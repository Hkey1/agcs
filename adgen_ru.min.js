function ag_Snowball(e){function r(e,r,t,n){if(!e&&""!=e||!r&&0!=r||!t)throw"Bad Among initialisation: s:"+e+", substring_i: "+r+", result: "+t;this.s_size=e.length,this.s=function(){for(var r=e.length,t=new Array(r),n=0;r>n;n++)t[n]=e.charCodeAt(n);return t}(),this.substring_i=r,this.result=t,this.method=n}function t(){var e;return{bra:0,ket:0,limit:0,cursor:0,limit_backward:0,setCurrent:function(r){e=r,this.cursor=0,this.limit=r.length,this.limit_backward=0,this.bra=this.cursor,this.ket=this.limit},getCurrent:function(){var r=e;return e=null,r},in_grouping:function(r,t,n){if(this.cursor>=this.limit)return!1;var i=e.charCodeAt(this.cursor);return i>n||t>i?!1:(i-=t,0==(r[i>>3]&1<<(7&i))?!1:(this.cursor++,!0))},in_grouping_b:function(r,t,n){if(this.cursor<=this.limit_backward)return!1;var i=e.charCodeAt(this.cursor-1);return i>n||t>i?!1:(i-=t,0==(r[i>>3]&1<<(7&i))?!1:(this.cursor--,!0))},out_grouping:function(r,t,n){if(this.cursor>=this.limit)return!1;var i=e.charCodeAt(this.cursor);return i>n||t>i?(this.cursor++,!0):(i-=t,0==(r[i>>3]&1<<(7&i))?(this.cursor++,!0):!1)},out_grouping_b:function(r,t,n){if(this.cursor<=this.limit_backward)return!1;var i=e.charCodeAt(this.cursor-1);return i>n||t>i?(this.cursor--,!0):(i-=t,0==(r[i>>3]&1<<(7&i))?(this.cursor--,!0):!1)},eq_s:function(r,t){if(this.limit-this.cursor<r)return!1;var n;for(n=0;n!=r;n++)if(e.charCodeAt(this.cursor+n)!=t.charCodeAt(n))return!1;return this.cursor+=r,!0},eq_s_b:function(r,t){if(this.cursor-this.limit_backward<r)return!1;var n;for(n=0;n!=r;n++)if(e.charCodeAt(this.cursor-r+n)!=t.charCodeAt(n))return!1;return this.cursor-=r,!0},eq_v_b:function(e){return this.eq_s_b(e.length,e)},find_among:function(r,t){for(var n=0,i=t,o=this.cursor,a=this.limit,s=0,u=0,d=!1;;){for(var w=n+(i-n>>1),c=0,l=u>s?s:u,h=r[w],f=l;f<h.s_size;f++){if(o+l==a){c=-1;break}if(c=e.charCodeAt(o+l)-h.s[f])break;l++}if(0>c?(i=w,u=l):(n=w,s=l),1>=i-n){if(n>0||i==n||d)break;d=!0}}for(;;){var h=r[n];if(s>=h.s_size){if(this.cursor=o+h.s_size,!h.method)return h.result;var _=h.method();if(this.cursor=o+h.s_size,_)return h.result}if(n=h.substring_i,0>n)return 0}},find_among_b:function(r,t){for(var n=0,i=t,o=this.cursor,a=this.limit_backward,s=0,u=0,d=!1;;){for(var w=n+(i-n>>1),c=0,l=u>s?s:u,h=r[w],f=h.s_size-1-l;f>=0;f--){if(o-l==a){c=-1;break}if(c=e.charCodeAt(o-1-l)-h.s[f])break;l++}if(0>c?(i=w,u=l):(n=w,s=l),1>=i-n){if(n>0||i==n||d)break;d=!0}}for(;;){var h=r[n];if(s>=h.s_size){if(this.cursor=o-h.s_size,!h.method)return h.result;var _=h.method();if(this.cursor=o-h.s_size,_)return h.result}if(n=h.substring_i,0>n)return 0}},replace_s:function(r,t,n){var i=n.length-(t-r),o=e.substring(0,r),a=e.substring(t);return e=o+n+a,this.limit+=i,this.cursor>=t?this.cursor+=i:this.cursor>r&&(this.cursor=r),i},slice_check:function(){if(this.bra<0||this.bra>this.ket||this.ket>this.limit||this.limit>e.length)throw"faulty slice operation"},slice_from:function(e){this.slice_check(),this.replace_s(this.bra,this.ket,e)},slice_del:function(){this.slice_from("")},insert:function(e,r,t){var n=this.replace_s(e,r,t);e<=this.bra&&(this.bra+=n),e<=this.ket&&(this.ket+=n)},slice_to:function(){return this.slice_check(),e.substring(this.bra,this.ket)},get_size_of_p:function(){return e?encodeURIComponent(e).match(/%..|./g).length+1:1}}}var n={russianStemmer:function(){function e(){var e;h=x.limit,l=x.limit,e=x.cursor;e:do{r:for(;;){t:do{if(!x.in_grouping(v,1072,1103))break t;break r}while(!1);if(x.cursor>=x.limit)break e;x.cursor++}h=x.cursor;r:for(;;){t:do{if(!x.out_grouping(v,1072,1103))break t;break r}while(!1);if(x.cursor>=x.limit)break e;x.cursor++}r:for(;;){t:do{if(!x.in_grouping(v,1072,1103))break t;break r}while(!1);if(x.cursor>=x.limit)break e;x.cursor++}r:for(;;){t:do{if(!x.out_grouping(v,1072,1103))break t;break r}while(!1);if(x.cursor>=x.limit)break e;x.cursor++}l=x.cursor}while(!1);return x.cursor=e,!0}function n(){return l<=x.cursor?!0:!1}function i(){var e,r;if(x.ket=x.cursor,e=x.find_among_b(f,9),0==e)return!1;switch(x.bra=x.cursor,e){case 0:return!1;case 1:e:do{r=x.limit-x.cursor;r:do{if(!x.eq_s_b(1,"а"))break r;break e}while(!1);if(x.cursor=x.limit-r,!x.eq_s_b(1,"я"))return!1}while(!1);x.slice_del();break;case 2:x.slice_del()}return!0}function o(){var e;if(x.ket=x.cursor,e=x.find_among_b(_,26),0==e)return!1;switch(x.bra=x.cursor,e){case 0:return!1;case 1:x.slice_del()}return!0}function a(){var e,r,t;if(!o())return!1;r=x.limit-x.cursor;e:do{if(x.ket=x.cursor,e=x.find_among_b(g,8),0==e){x.cursor=x.limit-r;break e}switch(x.bra=x.cursor,e){case 0:x.cursor=x.limit-r;break e;case 1:r:do{t=x.limit-x.cursor;t:do{if(!x.eq_s_b(1,"а"))break t;break r}while(!1);if(x.cursor=x.limit-t,!x.eq_s_b(1,"я")){x.cursor=x.limit-r;break e}}while(!1);x.slice_del();break;case 2:x.slice_del()}}while(!1);return!0}function s(){var e;if(x.ket=x.cursor,e=x.find_among_b(m,2),0==e)return!1;switch(x.bra=x.cursor,e){case 0:return!1;case 1:x.slice_del()}return!0}function u(){var e,r;if(x.ket=x.cursor,e=x.find_among_b(p,46),0==e)return!1;switch(x.bra=x.cursor,e){case 0:return!1;case 1:e:do{r=x.limit-x.cursor;r:do{if(!x.eq_s_b(1,"а"))break r;break e}while(!1);if(x.cursor=x.limit-r,!x.eq_s_b(1,"я"))return!1}while(!1);x.slice_del();break;case 2:x.slice_del()}return!0}function d(){var e;if(x.ket=x.cursor,e=x.find_among_b(k,36),0==e)return!1;switch(x.bra=x.cursor,e){case 0:return!1;case 1:x.slice_del()}return!0}function w(){var e;if(x.ket=x.cursor,e=x.find_among_b(y,2),0==e)return!1;if(x.bra=x.cursor,!n())return!1;switch(e){case 0:return!1;case 1:x.slice_del()}return!0}function c(){var e;if(x.ket=x.cursor,e=x.find_among_b(b,4),0==e)return!1;switch(x.bra=x.cursor,e){case 0:return!1;case 1:if(x.slice_del(),x.ket=x.cursor,!x.eq_s_b(1,"н"))return!1;if(x.bra=x.cursor,!x.eq_s_b(1,"н"))return!1;x.slice_del();break;case 2:if(!x.eq_s_b(1,"н"))return!1;x.slice_del();break;case 3:x.slice_del()}return!0}var l,h,f=[new r("в",-1,1),new r("ив",0,2),new r("ыв",0,2),new r("вши",-1,1),new r("ивши",3,2),new r("ывши",3,2),new r("вшись",-1,1),new r("ившись",6,2),new r("ывшись",6,2)],_=[new r("ее",-1,1),new r("ие",-1,1),new r("ое",-1,1),new r("ые",-1,1),new r("ими",-1,1),new r("ыми",-1,1),new r("ей",-1,1),new r("ий",-1,1),new r("ой",-1,1),new r("ый",-1,1),new r("ем",-1,1),new r("им",-1,1),new r("ом",-1,1),new r("ым",-1,1),new r("его",-1,1),new r("ого",-1,1),new r("ему",-1,1),new r("ому",-1,1),new r("их",-1,1),new r("ых",-1,1),new r("ею",-1,1),new r("ою",-1,1),new r("ую",-1,1),new r("юю",-1,1),new r("ая",-1,1),new r("яя",-1,1)],g=[new r("ем",-1,1),new r("нн",-1,1),new r("вш",-1,1),new r("ивш",2,2),new r("ывш",2,2),new r("щ",-1,1),new r("ющ",5,1),new r("ующ",6,2)],m=[new r("сь",-1,1),new r("ся",-1,1)],p=[new r("ла",-1,1),new r("ила",0,2),new r("ыла",0,2),new r("на",-1,1),new r("ена",3,2),new r("ете",-1,1),new r("ите",-1,2),new r("йте",-1,1),new r("ейте",7,2),new r("уйте",7,2),new r("ли",-1,1),new r("или",10,2),new r("ыли",10,2),new r("й",-1,1),new r("ей",13,2),new r("уй",13,2),new r("л",-1,1),new r("ил",16,2),new r("ыл",16,2),new r("ем",-1,1),new r("им",-1,2),new r("ым",-1,2),new r("н",-1,1),new r("ен",22,2),new r("ло",-1,1),new r("ило",24,2),new r("ыло",24,2),new r("но",-1,1),new r("ено",27,2),new r("нно",27,1),new r("ет",-1,1),new r("ует",30,2),new r("ит",-1,2),new r("ыт",-1,2),new r("ют",-1,1),new r("уют",34,2),new r("ят",-1,2),new r("ны",-1,1),new r("ены",37,2),new r("ть",-1,1),new r("ить",39,2),new r("ыть",39,2),new r("ешь",-1,1),new r("ишь",-1,2),new r("ю",-1,2),new r("ую",44,2)],k=[new r("а",-1,1),new r("ев",-1,1),new r("ов",-1,1),new r("е",-1,1),new r("ие",3,1),new r("ье",3,1),new r("и",-1,1),new r("еи",6,1),new r("ии",6,1),new r("ами",6,1),new r("ями",6,1),new r("иями",10,1),new r("й",-1,1),new r("ей",12,1),new r("ией",13,1),new r("ий",12,1),new r("ой",12,1),new r("ам",-1,1),new r("ем",-1,1),new r("ием",18,1),new r("ом",-1,1),new r("ям",-1,1),new r("иям",21,1),new r("о",-1,1),new r("у",-1,1),new r("ах",-1,1),new r("ях",-1,1),new r("иях",26,1),new r("ы",-1,1),new r("ь",-1,1),new r("ю",-1,1),new r("ию",30,1),new r("ью",30,1),new r("я",-1,1),new r("ия",33,1),new r("ья",33,1)],y=[new r("ост",-1,1),new r("ость",-1,1)],b=[new r("ейше",-1,1),new r("н",-1,2),new r("ейш",-1,1),new r("ь",-1,3)],v=[33,65,8,232],x=new t;this.stem=function(){var r,t,n,o,l,f,_,g,m,p;r=x.cursor;e:do if(!e())break e;while(!1);if(x.cursor=r,x.limit_backward=x.cursor,x.cursor=x.limit,t=x.limit-x.cursor,x.cursor<h)return!1;x.cursor=h,n=x.limit_backward,x.limit_backward=x.cursor,x.cursor=x.limit-t,o=x.limit-x.cursor;e:do r:do{l=x.limit-x.cursor;t:do{if(!i())break t;break r}while(!1);x.cursor=x.limit-l,f=x.limit-x.cursor;t:do if(!s()){x.cursor=x.limit-f;break t}while(!1);t:do{_=x.limit-x.cursor;n:do{if(!a())break n;break t}while(!1);x.cursor=x.limit-_;n:do{if(!u())break n;break t}while(!1);if(x.cursor=x.limit-_,!d())break e}while(!1)}while(!1);while(!1);x.cursor=x.limit-o,g=x.limit-x.cursor;e:do{if(x.ket=x.cursor,!x.eq_s_b(1,"и")){x.cursor=x.limit-g;break e}x.bra=x.cursor,x.slice_del()}while(!1);m=x.limit-x.cursor;e:do if(!w())break e;while(!1);x.cursor=x.limit-m,p=x.limit-x.cursor;e:do if(!c())break e;while(!1);return x.cursor=x.limit-p,x.limit_backward=n,x.cursor=x.limit_backward,!0},this.setCurrent=function(e){x.setCurrent(e)},this.getCurrent=function(){return x.getCurrent()}}},i=e.toLowerCase()+"Stemmer";return new n[i]}function SimpleText(e){this.str=e,this._static=!0,this._isVoid=""===e}function _newTextBlock(e){var r=new TextBlock(e);return r}function TextBlock(e,r){if("string"==typeof r&&(r=r.split(",").join(" ").split(" ")),r instanceof Array){for(var t={},n=0;n<r.length;n++)r[n]&&(t[r[n]]=!0);r=t}this.filters=r,"string"==typeof e&&(e=TextBlock.prototype.parse(this.applyFilters(e,!0,!0)));for(var i=[],o=!1,n=0;n<e.length;n++)e[n]._isVoid||(o=!0,i.push(e[n]));o||(i.push(window.VoidSimpleText),this._isVoid=!0),this.arr=i,this._count=!1,this._static=!0;for(var n=0;n<i.length;n++)if(!i[n]._static){this._static=!1;break}}function VarBlock(e,r,t,n){if(this.out=e,r=r.trim(),-1!==r.indexOf("=")){var i=VarBlock.prototype.parse(r);r=i.varname,t=i.oper,n=i.val}this.varname=r,this.oper=t,this.val=n?n:window.VoidSimpleText,this._static=!1}function GenBlock(e){"string"==typeof e&&(e=GenBlock.prototype.parse(e)),this.arr=e,this._count=!1,this._static=!0;for(var r=0;r<e.length;r++)if(!e[r]._static){this._static=!1;break}}function QueryBlock(e){"string"==typeof e&&(e=QueryBlock.prototype.parse(e)),this.arr=e,this._static=!1,this._lastKey=!1,this._lastFind=!1,this._hasVar=!1;for(var r in e)if(e.hasOwnProperty(r)&&e[r]._hasVar){this._hasVar=!0;break}}function QueryItem(e,r,t){if("string"==typeof e){var n=QueryItem.prototype.parse(e);e=n[0],r=n[1],t=n[2]}this.sel=e?e:_newTextBlock(""),this.val=r?r:_newTextBlock(""),this._hasVar=t,this._lastKey=!1,this._lastCheck=!1}function cloneVars(e){if(!e)return{};var r={};for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function ag_stem(e){if(e=e.toLowerCase().split("ё").join("е"),window.ag_stemCash[e])return window.ag_stemCash[e];window.ag_stemmer.setCurrent(e),window.ag_stemmer.stem();var r=window.ag_stemmer.getCurrent();return window.ag_stemCashCount>1e4&&(window.ag_stemCashCount=0,window.ag_stemCash=ag_clone_obj(window.ag_stemCashTmp)),window.ag_stemCash[e]=r,r}function ag_clone_obj(e){var r={};for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function keyToParams(e){var r={};r._keyCS=e,e=e.split("!").join(" ");var t=splitKeyToVars(e,!0);e=t.key,r.vars=t.vars;var t=e;e=e.split("[").join(" ").split("]").join(" ");var n=e!==t;t=e,e=e.split('"').join(" ");var i=!n&&e!==t;t=e,e=e.split("+").join(" ");var o=!n&&!i&&e!==t;e=e.split("!").join(" "),r._keyIndex={};var a=e.toLowerCase().split(" ");for(var s in a)if(a.hasOwnProperty(s)&&""!==a[s].trim()){var u=a[s].trim();if(-1!==u.indexOf("?"))r._keyIndex[u]=!0,r._keyIndex["-"+u]=!0;else{r._keyIndex["!"+u]=!0,r._keyIndex["-!"+u]=!0;var d=ag_stem(u);r._keyIndex[d]=!0,r._keyIndex["-"+d]=!0}}return n?(r._keyIndex["?точное"]=!0,r._keyIndex["-?точное"]=!0):i?(r._keyIndex["?фразовое"]=!0,r._keyIndex["-?фразовое"]=!0):o&&(r._keyIndex["?модификатор"]=!0,r._keyIndex["-?модификатор"]=!0),r}function splitKeyToVars(e,r){for(var t=e.split(">{"),n={},i=1;i<t.length;i++){var o=t[i].split("}")[0].split("=");t[i].split("}").length>1?t[i]=t[i].split("}")[1]:t[i]="";for(var a=[],s=1;s<o.length;s++)a.push(o[s]);a=a.join("="),!window.ag_disable_anti_xss&&r&&(a=a.split("<").join("&lt;").split(">").join("&gt;")),n[o[0]]=a}return e=t.join(" ").trim(),{key:e,vars:n}}if(window.AdGen={getGetParam:function(e,r){return(e=new RegExp("[?&]"+encodeURIComponent(e)+"=([^&]*)").exec(r?r:location.search))?e[1]?decodeURIComponent(e[1]):"":void 0},get:function(e,r,t){var n=new TextBlock(e,r);return"string"!=typeof t&&(t=window.ag_keyword),n.rand(keyToParams(t?t:""))},echo:function(e,r,t){var n=AdGen.get(e,r,t);return document.write(n),n},selectTags:function(){var e=[],r=document.getElementsByTagName("SCRIPT");if(!r)return[];e=[];for(var t=0;t<r.length;t++)"text/adgen"==r[t].getAttribute("type")&&e.push(r[t]);return e},findByQuery:function(e,r){if("$prev"===e){for(var r=r.previousSibling?r.previousSibling:r.previousElementSibling;3===r.nodeType;)r=r.previousSibling?r.previousSibling:r.previousElementSibling;return r?[r]:[]}if("$parent"===e)return[r.parentNode];try{var t=document.querySelectorAll(e);return t?t:[]}catch(n){if(-1!==to.indexOf(" ")||-1!==to.indexOf(",")||-1!==to.indexOf(".")||-1!==to.indexOf("[")||-1!==to.indexOf("=")||-1!==to.indexOf(":"))return[];var t=[];return t="#"===to[0]?[document.getElementById(e.split("#").join(""))]:document.getElementsByTagName(e.toUpperCase()),t&&t[0]?t:[]}},timeout:function(){if(window.ag_keyword||window.ag_do_if_void){for(var e=AdGen.selectTags(),r=0;r<e.length;r++){var t=e[r];if(!t.getAttribute("data-maked")&&(r+1<e.length||t.nextSibling||t.nextElementSibling||AdGen.isLoaded)){var n=t.getAttribute("data-to");if(!n)continue;if(n=n.trim(),!n)continue;if(!AdGen.isLoaded&&"title"!==n){if("$"!==n[0]&&"#"!==n[0])continue;if(-1!==n.indexOf(" ")&&-1!==n.indexOf(","))continue}var i=AdGen.findByQuery(n,t);if(0===i.length&&!AdGen.isLoaded)continue;t.setAttribute("data-maked","1");var o=t.innerHTML.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").split("<![CDATA[").join(" ").split("]]>").join(" ");o=AdGen.get(o,t.getAttribute("data-filters"));for(var a=0;a<i.length;a++)i[a].innerHTML=o}}(!AdGen.isLoaded||window.ag_dont_stop)&&window.setTimeout(function(){window.AdGen.timeout()},50)}},normalize_external_key:function(e){return e.split("!").join(" ").split("(").join(" ").split(")").join(" ").split("{").join(" ").split("}").join(" ").split("[").join(" ").split("]").join(" ").split("*").join(" ").split("@").join(" ").split("+").join(" ").split("-").join(" ").split("?").join(" ").split(".").join(" ").split(",").join(" ").split("  ").join(" ").split("  ").join(" ").split("  ").join(" ").trim()},gen_time_markers:function(){for(var e=window.ag_worktime?window.ag_worktime:{mon:[8,18],tue:[8,18],wed:[8,18],thu:[8,18],fri:[8,18],sat:[-1,-1],sun:[-1,-1]},r=[e.sun[0],e.mon[0],e.tue[0],e.wed[0],e.thu[0],e.fri[0],e.sat[0]],t=[e.sun[1],e.mon[1],e.tue[1],e.wed[0],e.thu[1],e.fri[1],e.sat[1]],n=[],i=0;2>i;i++){var o=i?"?c_":"?п_",a=i?"?s_":"?",s=new Date,u=s.getTime();if(i){var d=window.ag_timezone_offset;d||0===d||(d=3),u+=36e5*d-6e4*s.getTimezoneOffset()}s=new Date(u);var w=s.getHours();n.push(o+"ч"+w,a+"h"+w),(w>=23||6>=w)&&n.push(o+"ночь",a+"night"),17>=w?n.push(o+"день",a+"day"):22>w&&n.push(o+"вечер",a+"evening");var c=s.getDay();(0===c||6===c)&&n.push(o+"выходной",a+"weekend"),0===c&&n.push(o+"воскресенье",a+"sunday"),1===c&&n.push(o+"понедельник",a+"monday"),2===c&&n.push(o+"вторник",a+"tuesday"),3===c&&n.push(o+"среда",a+"wednesday"),4===c&&n.push(o+"четверг",a+"thursday"),5===c&&n.push(o+"пятница",a+"friday"),6===c&&n.push(o+"суббота",a+"saturday"),w>=r[c]&&w<t[c]&&n.push(o+"рабочее_время",a+"worktime")}return" "+n.join(" ")+" "},ua_find:function(e){return-1!==window.navigator.userAgent.toLowerCase().indexOf(e)},gen_device_markers:function(){var e=[];return AdGen.ua_find("windows")?e.push("?виндовс","?windows"):AdGen.ua_find("android")?e.push("?андроид","?android"):AdGen.ua_find("blackberry")?e.push("?блекберри","?blackberry"):(AdGen.ua_find("iphone")||AdGen.ua_find("ipod")||AdGen.ua_find("ipad"))&&(e.push("?айос","?ios"),AdGen.ua_find("iphone")?e.push("?айфон","?iphone"):AdGen.ua_find("ipod")?e.push("?айпод","?ipod"):AdGen.ua_find("ipad")&&e.push("?айпад","?ipаd")),AdGen.ua_find("mobile")||AdGen.ua_find("iphone")||AdGen.ua_find("ipod")||AdGen.ua_find("phone")||AdGen.ua_find("blackberry")&&!AdGen.ua_find("tablet")?e.push("?телефон","?phone"):AdGen.ua_find("ipad")||AdGen.ua_find("android")||AdGen.ua_find("touch")||AdGen.ua_find("blackberry")?e.push("?планшет","?tablet"):e.push("?десктоп","?desktop")," "+e.join(" ")+" "},gen_sourche_markers:function(){try{if(!window.ag_disable_storage&&"localStorage"in window&&null!==window.localStorage&&window.localStorage.getItem("ag_sourche_markers"))return window.localStorage.getItem("ag_sourche_markers")}catch(e){}var r=document.referrer,t=!1;r?r=r.toLowerCase():(r="",t=!AdGen.getGetParam("utm_medium")&&!AdGen.getGetParam("utm_source"));var n=(document.domain.split("www.").join("").split("http://").join("").split("https://").join(""),-1!==r.indexOf("//".domain)||-1!==r.indexOf("//www.".domain)),i=AdGen.getGetParam("utm_source")?AdGen.getGetParam("utm_source").toLowerCase():"",o=AdGen.getGetParam("utm_medium")?AdGen.getGetParam("utm_medium").toLowerCase():"",a=-1!==r.indexOf("//google.")||-1!==r.indexOf("//www.google."),s=-1!==r.indexOf("//www.yabs.yandex.")||r.indexOf("//www.yabs.yandex."),u=-1!==r.indexOf("//yandex.")||-1!==r.indexOf("//www.yandex.")||s,d=-1!==r.indexOf("//facebook.")||-1!==r.indexOf("//www.facebook.")||-1!==r.indexOf("//fb.com")||-1!==r.indexOf("//www.fb.com"),w=-1!==r.indexOf("//vkontakte.")||-1!==r.indexOf("//www.vkontakte.")||-1!==r.indexOf("//vk.com")||-1!==r.indexOf("//www.vk.com"),c=-1!==r.indexOf("//market.yandex.")||-1!==r.indexOf("//www.market.yandex."),l="cpc"==o||s;s=s||AdGen.getGetParam("yclid")||"yd"===i||-1!==i.indexOf("yadirect")||-1!==i.indexOf("ya_direct")||-1!==i.indexOf("ya direct")||-1!==i.indexOf("ydirect")||-1!==i.indexOf("y_direct")||-1!==i.indexOf("y direct")||-1!==i.indexOf("yandexdirect")||-1!==i.indexOf("yandex_direct")||-1!==i.indexOf("yandex direct");var h=!s&&(a&&l||-1!==i.indexOf("adwords"))||AdGen.getGetParam("gclid"),f=!(a||u||c||w||d||"email"!==o&&"email"!==i&&"mail"!==o&&"mail"!==i);h=h&&!f&&!n,a=a&&!f&&!n,s=s&&!f&&!n&&!c&&!a&&!h,u=u&&!f&&!n&&!c&&!a&&!h;var _=h||s||"cpc"==o||"ppc"==o;s=s||u&&_&&!c,h=h||a&&_;var g=!(t||_||d||w||c||u||a||f||n),m=d||w,p=a||u,k=[];f&&k.push("?емайл","?email"),n&&k.push("?внутренний","?inner"),_&&k.push("?платный","?pаid"),s&&k.push("?ядирект","?ydirect"),h&&k.push("?адвордс","?adwords"),a&&k.push("?гугл","?google"),u&&k.push("?яндекс","?yandex"),d&&k.push("?фейсбук","?facebook"),w&&k.push("?вконтакте","?vkontakte"),c&&k.push("?ямаркет","?ymarket"),g&&k.push("?рефер","?refer"),m&&k.push("?cоцсеть","?social"),p&&k.push("?поиск","?search"),t&&k.push("?прямой","?direct_visit"),k=" "+k.join(" ")+" ";try{!window.ag_disable_storage&&"localStorage"in window&&null!==window.localStorage&&window.localStorage.setItem("ag_sourche_markers",k)}catch(e){}return k}},!window.ag_keyword){window.ag_keyword=AdGen.getGetParam("_adgenkey")?AdGen.getGetParam("_adgenkey"):"";try{if(!window.ag_keyword&&document.referrer){var ref=document.referrer;window.ag_detect_by_referrer&&AdGen.getGetParam("_adgenkey",ref)?window.ag_keyword=AdGen.getGetParam("_adgenkey",ref):window.ag_detect_yd_query&&-1!==ref.indexOf("yandsearch")&&AdGen.getGetParam("text",ref)?window.ag_keyword=AdGen.normalize_external_key(AdGen.getGetParam("text",ref)):window.ag_detect_yd_query&&-1!==ref.indexOf("yabs.yandex")&&AdGen.getGetParam("q",ref)&&(window.ag_keyword=AdGen.normalize_external_key(AdGen.getGetParam("q",ref)))}if(!window.ag_keyword&&window.ag_get_params_names)for(var agt_i=0;agt_i<window.ag_get_params_names.length;agt_i++){var agt_gname=window.ag_get_params_names[agt_i];if(agt_gname&&AdGen.getGetParam(agt_gname)&&AdGen.getGetParam(agt_gname).trim()){window.ag_keyword=AdGen.normalize_external_key(AdGen.getGetParam(agt_gname));break}}if(!window.ag_keyword&&window.ag_get_params_names&&document.referrer)for(var ref=document.referrer,agt_i=0;agt_i<window.ag_get_params_names.length;agt_i++){var agt_gname=window.ag_get_params_names[agt_i];if(agt_gname&&AdGen.getGetParam(agt_gname,ref)&&AdGen.getGetParam(agt_gname,ref).trim()){window.ag_keyword=AdGen.normalize_external_key(AdGen.getGetParam(agt_gname,ref));break}}!window.ag_disable_storage&&"localStorage"in window&&null!==window.localStorage&&(window.ag_keyword?window.localStorage.setItem("ag_keyword",window.ag_keyword):window.localStorage.getItem("ag_keyword")&&(window.ag_keyword=window.localStorage.getItem("ag_keyword")))}catch(e){}window.ag_keyword&&window.ag_keyword_addon?window.ag_keyword+=" "+window.ag_keyword_addon:window.ag_keyword_addon&&window.ag_add_to_void&&(window.ag_keyword=window.ag_keyword_addon),window.ag_keyword=window.ag_keyword?window.ag_keyword:window.ag_default_keyword,window.ag_keyword=window.ag_keyword?window.ag_keyword:"",(window.ag_keyword||window.ag_do_if_void)&&window.ag_add_markers&&(window.ag_keyword+=AdGen.gen_time_markers(),window.ag_keyword+=AdGen.gen_device_markers(),window.ag_keyword+=AdGen.gen_sourche_markers())}AdGen.prevOnload=window.onload,AdGen.isLoaded=!1,window.onload=function(e){AdGen.isLoaded=!0,window.setTimeout(function(){AdGen.timeout()},50),AdGen.prevOnload&&AdGen.prevOnload(e)},SimpleText.prototype={blockType:"simple",rand:function(e){return this.str},get:function(e,r){return this.str},count:function(e){return 1}},window.VoidSimpleText=new SimpleText(""),window.NeverSimpleText=new SimpleText("asdassduivvjasdycyzxj"),window.NeverSimpleText._isNever=!0,window.NoneSimpleText=new SimpleText(""),window.NoneSimpleText._isNone=!0,TextBlock.prototype={blockType:"text",get:function(e,r){var t=this.arr.length;if(0===t)return"";for(var n=[],i=0;t>i;i++)n.push(0);for(var t=this.arr.length,i=t-1;i>=0;i--){var o=this.arr[i].count(r),a=e%o;n[i]=a,e=Math.round((e-a)/o)}for(var s=this.arr[0].get(n[0],r),i=1;t>i;i++)s+=this.arr[i].get(n[i],r);return this.applyFilters(s)},applyFilters:function(e,r,t){if(this.filters&&(this.filters.only_space&&(e=e.replace(/\s/g," ")),this.filters.trim&&(e=e.trim()),this.filters.no_space&&(e=e.replace(/  +/g,"")),this.filters.one_space&&(e=e.replace(/  +/g," ")),this.filters.uc_first&&!r&&(e=e.charAt(0).toUpperCase()+e.substr(1,e.length-1)),this.filters.fix_punct&&(e=e.split(" ,").join(",").split(",").join(", ").split(" .").join(".").split("  ").join(" ").trim(),t||(e=e.split(" ?").join("?").split("?").join("? ").split(" !").join("!").split("!").join("! ")),!r))){e=e.split(". ").join("<*eol>. ").split("? ").join("<*eol>? ").split("! ").join("<*eol>! ").split("<*eol>");for(var n=1;n<e.length;n++)2!=e[n].length&&(3===e[n].length?e[n]=e[n].charAt(0)+e[n].charAt(1)+e[n].charAt(2).toUpperCase():e[n]=e[n].charAt(0)+e[n].charAt(1)+e[n].charAt(2).toUpperCase()+e[n].substr(3,e[n].length-1));e=e.join("")}return e},count:function(e){if(this._static&&this._count!==!1)return this._count;this._count=1;for(var r=0;r<this.arr.length;r++)this._count*=this.arr[r].count(e);return this._count},rand:function(e){var r=this.arr.length;if(0===r)return"";for(var t=this.arr[0].rand(e),n=1;n<this.arr.length;n++)t+=this.arr[n].rand(e);return this.applyFilters(t)},parse:function(e){for(var r=0,t=[],n=0,i=!1,o=0;o<e.length+1;o++)o===e.length?o>n&&t.push(new SimpleText(e.substr(n))):("*"===e[o]||"@"===e[o]||"<"===e[o]||">"===e[o])&&o+1<e.length&&"{"===e[o+1]?0===r&&(o>n&&t.push(new SimpleText(e.substring(n,o))),n=o+2,"*"===e[o]?i="gen":"@"===e[o]?i="query":"<"===e[o]?i="var_out":">"===e[o]&&(i="var_in")):"{"===e[o]?r++:"}"===e[o]&&(r--,0===r&&i&&(o>n&&("gen"===i?t.push(new GenBlock(e.substring(n,o))):"query"===i?t.push(new QueryBlock(e.substring(n,o))):"var_out"===i?t.push(new VarBlock(!0,e.substring(n,o))):"var_in"===i&&t.push(new VarBlock(!1,e.substring(n,o)))),n=o+1,i=!1));return t}},VarBlock.prototype={blockType:"var",get:function(e,r){r.vars||(r.vars={});var t;return"set"===this.oper||"add"===this.oper?(t=this.val.get(e,r),"set"===this.oper||"undefined"==typeof r.vars[this.varname]?r.vars[this.varname]=t:r.vars[this.varname]+=t):t=r.vars[this.varname],this.out&&"undefined"!=typeof t?t:""},count:function(e){return this.val.count()},rand:function(e){var r=this.count();return this.get(Math.min(r-1,Math.floor(r*Math.random())),e)},parse:function(e){for(var r=0,t=0,n="",i=!1,o=!1,a=0;a<e.length+1;a++)a===e.length?a>=t&&(i?o=_newTextBlock(e.substr(t)):n=e.substr(t).trim()):"{"===e[a]?r++:"}"===e[a]?r--:"="===e[a]&&0===r&&("+"===e[a-1]?(i="add",n=e.substring(0,a-1).trim()):(i="set",n=e.substring(0,a).trim()),t=a+1);return{varname:n,oper:i,val:o}}},GenBlock.prototype={blockType:"gen",get:function(e,r){if(this._optimized)return this.arr[e].str;for(var t=this.arr.length,n=0;t>n;n++){var i=this.arr[n].count(r);if(i>e)return this.arr[n].get(e,r);e-=i}return""},count:function(e){if(this._static&&this._count!==!1)return this._count;this._count=0;for(var r=0;r<this.arr.length;r++)this._count+=this.arr[r].count(e);return this._count},rand:function(e){return this.arr[Math.min(this.arr.length-1,Math.floor(this.arr.length*Math.random()))].rand(e)},parse:function(e){for(var r=0,t=[],n=0,i=0;i<e.length+1;i++)i===e.length?i>=n&&t.push(_newTextBlock(e.substr(n))):"{"===e[i]?r++:"}"===e[i]?r--:"|"===e[i]&&0===r&&(i>=n&&t.push(_newTextBlock(e.substring(n,i))),n=i+1);return t}},QueryBlock.prototype={blockType:"query",find:function(e){for(var r=0;r<this.arr.length;r++)if(this.arr[r].check(e))return this.arr[r];return window.VoidQueryItem},rand:function(e){return this.find(e).rand(e)},get:function(e,r){return this.find(r).get(e,r)},count:function(e){e||(e={});var r=this.find(e).count(e);return r},parse:function(e){for(var r=0,t=[],n=0,i=0;i<e.length+1;i++)i===e.length?i>=n&&t.push(new QueryItem(e.substr(n))):"{"===e[i]?r++:"}"===e[i]?r--:"|"===e[i]&&0===r&&(i>=n&&t.push(new QueryItem(e.substring(n,i))),n=i+1);return t}},QueryItem.prototype={blockType:"queryItem",getVal:function(e){if(!this.val._isNone)return this.val;for(var r=this.sel.get(this.check(e)-1,e).split(" "),t=[],n=0;n<r.length;n++){var i=r[n];-1===i.indexOf("?")&&-1===i.indexOf("$")&&-1===i.indexOf("-")&&t.push(i.split("!").join(""))}return new SimpleText(t.join(" "))},count:function(e){return this.val.count(e)},rand:function(e){return this.getVal(e).rand(e)},get:function(e,r){return this.getVal(r).get(e,r)},check:function(e,r){if(this.sel._isVoid)return!0;if(this.sel._isNever)return!1;for(var t=this.sel.count(e),n=0;t>n;n++){var i=" "+this.sel.get(n,e);i=i.trim().split(" ");for(var o=!0,a=0;a<i.length;a++){var s=i[a].trim();if(0!==s.length&&"-"!==s)if("$"===s[0]||"$"===s[1]){if(!r)continue;var u=!0;"-"===s[0]&&(u=!1,s=s.substring(1,s.length-1)),s=s.substring(1,s.length-1);var d=e.vars[s]&&""!==e.vars[s].trim();if(d!=u){o=!1;break}}else if("?"===s[0]||"!"===s[0]){if(!e._keyIndex[s]){o=!1;break}}else if("-"!==s[0]||"?"!==s[1]&&"!"!==s[1]){if("-"===s[0]){var w=s.substring(1,s.length-1);if(e._keyIndex["!"+w]||e._keyIndex[ag_stem(w)]){o=!1;break}}else if(!e._keyIndex["!"+s]&&!e._keyIndex[ag_stem(s)]){o=!1;break}}else if(e._keyIndex[s]){o=!1;break}}if(o)return this._lastCheck=!0,n+1}return this._lastCheck=!1,!1},parse:function(e){for(var r=0,t=[],n=!1,i=0,o=0;o<e.length+1;o++)if(o===e.length)o>=i&&t.push(_newTextBlock(e.substr(i)));else if("{"===e[o])r++;else if("}"===e[o])r--;else if("="===e[o]&&e.length>o+1&&">"===e[o+1]&&0===r&&0===t.length){if(o>=i){var a=e.substring(i,o).substr(i).toLowerCase().replace(/\s/g," ").replace(/  +/g," ").trim();-1!==a.indexOf("$")&&(n=!0),t.push(_newTextBlock(a))}i=o+2}return 1===t.length&&t.push(window.NoneSimpleText),t.push(n),t}},window.VoidQueryItem=new QueryItem("=>"),window.ag_stemmer=new ag_Snowball("russian"),window.ag_stemCash={},window.ag_stemCashTmp={},window.ag_stemCashCount=0,window.ag_stemCashTmp={"недорого":ag_stem("недорогие"),"дорого":ag_stem("дорогие"),"куплю":ag_stem("купить")},window.ag_stemCash=ag_clone_obj(window.ag_stemCashTmp),window.AdGen.timeout();